---
import {isSelected} from "../utils";

import {
    getLangFromUrl,
    useTranslations,
    useTranslatedPath,
} from "../../web-data/i18n/utils";
import DonateButton from "../DonateButton.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const tr = useTranslatedPath(lang);
const selected = isSelected(lang, Astro.url);

---

<nav class="nav">
    <a id={selected("/about") ? "selected": ""} class="nav-link uppercase"  href={tr("/about")}>
        {t("nav.about")}
    </a>
    <a id={selected("/patron") ? "selected": ""} class="nav-link uppercase" href={tr("/patron")}>
        {t("nav.patron")}
    </a>
    <a id={selected("/support") ? "selected": ""} class="nav-link uppercase" href={tr("/support")}>
        {t("nav.support")}
    </a>
    <a id={selected("/blog") ? "selected": ""} class="nav-link uppercase" href={tr("/blog")}>
        {t("nav.blog")}
    </a>
    <a id={selected("/contact") ? "selected": ""} class="nav-link uppercase" href={tr("/contact")}>
        {t("nav.contact")}
    </a>
    <div class="donate-button-container">

            <DonateButton/>


    </div>
</nav>

<style>
    .nav {
        display: flex;
        padding: var(--sds-size-space-300) 20px;

        justify-content: space-between;
        align-items: center;
        align-self: stretch;
        opacity: var(--sds-size-stroke-border);
        gap: 11.747px;
    }

    .logo-container {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 2px;
    }

    nav a {
        color: var(--Menu-button-color, #000);

        text-align: center;
        text-shadow: 0px 3.916px 3.916px rgba(0, 0, 0, 0.25);
        font-family: Montserrat, Helvetica;
        font-size: 12px;
        font-style: normal;
        font-weight: 500;
        letter-spacing: 1px;
        text-transform: uppercase;
    }

    nav a:hover {
        color: #276033;
        font-weight: bold;
    }

    .donate-button-container {
        width: 207px;
        font-size: 12px;
    }

    .nav-link {
        display: flex;
        /* width: 140px; */
        /* padding: 12px 2px 12.05px 3px; */
        justify-content: center;
        align-items: center;
        /* align-self: stretch; */
        text-decoration: none;
    }

    #selected {
        color: black;
        font-weight: bold;
    }

    @media (max-width: 1120px) {
        .nav {
            opacity: var(--sds-size-stroke-border);
            display: flex;
            height: -webkit-fill-available;
            justify-content: center;
            align-items: center;
            gap: 11.747px;
            align-self: stretch;
        }

        .nav-link {
            padding: 12px 2px 12.05px 3px;
        }
    }

    @media (max-width: 950px) {
        .donate-button-container {
            width: 160px;
        }
    }

    @media (max-width: 900px) {
        nav a {
            font-size: 10px;
        }
    }

    @media screen and (max-width: 810px) {
        .nav {
            display: flex;
            padding: var(--sds-size-space-300) 20px;
            align-items: center;
            align-self: stretch;
            opacity: var(--sds-size-stroke-border);
            flex-direction: column;
        }

        .nav-link {
            padding: 12px 2px 12.05px 3px;
        }

        nav a {
            font-size: 20px;
            white-space: nowrap;
        }
    }
</style>
