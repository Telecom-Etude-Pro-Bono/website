---
import Nav from "./Nav.astro";
import Icon from "../Icon.astro";
import LogoText from "../LogoText.astro";
---

<header class="header w-nav">
    <script>
        console.log(
            "Hi! I’m the client. This is logged in browser dev console.",
        );
    </script>
    <div class="header-container">
        <div id="menu-icon" class="overlay-button">
            <Icon icon="menu" alt="Icone de menu" />
        </div>
        <LogoText />
        <div class="pill-list">
            <div class="nav">
                <Nav />
            </div>
            <Icon icon="search" alt="Icone de recherche" />
        </div>
    </div>
    <div id="myNav" class="overlay">
        <div id="close-icon" class="overlay-button">
            <Icon icon="x" alt="Icone de menu" />
        </div>
        <div class="overlay-content">
            <Nav />
        </div>
    </div>

    <div class="separator"></div>
    <script>
        const menuIcon = document.getElementById("menu-icon");
        const closeBtn = document.getElementById("close-icon");
        menuIcon.addEventListener("click", openNav);
        closeBtn.addEventListener("click", closeNav);
        function openNav() {
            document.getElementById("myNav").style.width = "100%";
        }

        function closeNav() {
            document.getElementById("myNav").style.width = "0%";
        }
    </script>
</header>

<style>
    /* #close-icon path{
        color:white
    } */
    .header {
        display: flex;

        flex-direction: column;
        align-items: center;
        flex-shrink: 0;
        opacity: var(--sds-size-stroke-border);
        background: var(--sds-color-background-default-default);
        position: -webkit-sticky; /* Safari */
        position: sticky;
    }

    .header-container {
        display: flex;
        padding: var(--sds-size-space-300) 20px;

        justify-content: space-between;
        align-items: center;
        align-self: stretch;
        opacity: var(--sds-size-stroke-border);
        padding: 10px
    }

    .separator {
        display: flex;
        height: 2px;
        justify-content: center;
        align-items: center;
        flex-shrink: 0;
        align-self: stretch;
        opacity: var(--sds-size-stroke-border);

        background: #276033;
    }

    .pill-list {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
    }

    .logo-container {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 2px;
    }

    .overlay-button {
        display: none;
    }

    .overlay {
        display: none;
    }

    @media (max-width: 1120px) {
        .header-container {
            display: flex;
            flex-direction: column;

            justify-content: space-between;
            align-items: center;
            align-self: stretch;
            opacity: var(--sds-size-stroke-border);
        }

        @media screen and (max-width: 810px) {
            .overlay-button {
                display: flex;
            }
            .nav {
                display: none;
            }

            .header-container {
                flex-direction: row;
            }

            /* The Overlay (background) */
            .overlay {
                height: -webkit-fill-available;
                width: 0;
                position: fixed;
                z-index: 1;
                left: 0;
                top: 0;
                background-color: white;
                background-color: rgba(255, 255, 255, 0.9);
                overflow-x: hidden;
                transition: 0.5s;
                display: flex;
                flex-direction: column;
            }

            /* Position the content inside the overlay */
            .overlay-content {
                position: relative;
                /* top: 25%; */
                width: 100%;
                height: 100%;
                text-align: center;
                display: flex;
                flex-direction: column;
                justify-content: center;
            }

            /* The navigation links inside the overlay */
            .overlay a {
                width: 100%;
                margin-top: 10‒;
                border-top-width: 10px;
                padding-top: 16px;
                display: flex;
                flex-direction: column;
                align-items: flex-start;
                justify-content: space-evenly;
                height: -webkit-fill-available;
            }

            /* When you mouse over the navigation links, change their color */
            .overlay a:hover,
            .overlay a:focus {
                color: #f1f1f1;
            }

            /* Position the close button (top right corner) */
            .overlay .closebtn {
                position: absolute;
                top: 20px;
                right: 45px;
                font-size: 60px;
            }
        }
    }

    /* When the height of the screen is less than 450 pixels, change the font-size of the links and position the close button again, so they don't overlap */
    @media screen and (max-height: 450px) {
        .overlay a {
            font-size: 20px;
        }
        .overlay .closebtn {
            font-size: 40px;
            top: 15px;
            right: 35px;
        }
    }
</style>
